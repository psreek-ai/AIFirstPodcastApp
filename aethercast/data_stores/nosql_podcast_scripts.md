**Note:** This document describes a **conceptual NoSQL collection (e.g., for MongoDB/DynamoDB)** intended for storing highly detailed and structured podcast scripts, including segment-specific TTS instructions.

The Aethercast system currently implements script caching using the **`generated_scripts` table in SQLite**. This table stores a JSON representation of the script as produced by the Podcast Script Weaver Agent (PSWA), which is less granular than the schema described below (e.g., it does not contain per-segment TTS instructions or detailed speaker styles). The primary purpose of the `generated_scripts` table is to cache PSWA's output to avoid redundant calls to the AIMS service.

Refer to the main `aethercast/data_stores/README.md`, the `pswa/README.md` for the structure of scripts generated by PSWA, and the schema definition in `aethercast/api_gateway/main.py` for details on the current SQLite-based implementation. This document outlines a potential future approach for more advanced script storage.
---
# NoSQL Data Store: PodcastScripts Collection

## Purpose
Stores the full scripts for generated podcasts, including segment details and TTS instructions. These are generated by the `PodcastScriptWeaverAgent`.

## Schema
```json
{
  "podcast_id": "string", // Unique identifier for the podcast
  "title": "string", // Title of the podcast
  "summary": "string", // Overall summary of the podcast
  "topic_id": "string", // Optional: Foreign key referencing TopicObjects if based on a topic
  "snippet_id": "string", // Optional: Foreign key referencing SnippetDataObjects if based on a snippet
  "source_material_references": ["string"], // List of source materials/ideas used
  "estimated_duration_seconds": "integer", // Estimated total duration of the podcast in seconds
  "segments": [
    {
      "segment_id": "string", // Unique ID for this segment
      "segment_type": "string", // e.g., "intro", "main_content", "outro", "transition"
      "speaker_style": "string", // e.g., "narrator_enthusiastic", "interviewer_calm"
      "text_content": "string", // The actual text to be spoken in this segment
      "tts_instructions": { // Specific instructions for the TTS engine for this segment
        "voice_id": "string", // Voice to use (can override podcast-level default)
        "prosody": { // Pitch, rate, volume adjustments
          "rate": "string", // e.g., "slow", "medium", "fast", "x-fast"
          "pitch": "string", // e.g., "low", "medium", "high"
        },
        "emphasis": ["string"] // Words or phrases to emphasize
      },
      "estimated_segment_duration_seconds": "integer"
    }
  ],
  "llm_prompt_initial": "string", // Initial prompt to generate the overall script structure
  "llm_config": { // Configuration of the LLM used for script generation
    "model_name": "string",
    "temperature": "float"
  },
  "created_at": "timestamp",
  "updated_at": "timestamp",
  "status": "string" // e.g., "draft", "script_complete", "audio_generating", "complete", "error"
}
```

## Indexes
- `podcast_id` (Primary Key)
- `topic_id`
- `snippet_id`
- `created_at`
- `status`

## Example
```json
{
  "podcast_id": "podcast_67890",
  "title": "Exploring the Cosmos: A Journey to Mars",
  "summary": "Join us on an auditory expedition to the Red Planet, uncovering its mysteries and our future there.",
  "topic_id": "science_space_exploration",
  "source_material_references": ["snippet_12345", "latest_nasa_briefings"],
  "estimated_duration_seconds": 900, // 15 minutes
  "segments": [
    {
      "segment_id": "seg_001_intro",
      "segment_type": "intro",
      "speaker_style": "narrator_enthusiastic",
      "text_content": "Welcome to Aethercast! Today, we embark on an incredible journey to Mars...",
      "tts_instructions": {
        "voice_id": "AetherVoice-Nova",
        "prosody": {"rate": "medium", "pitch": "medium"},
        "emphasis": ["incredible journey"]
      },
      "estimated_segment_duration_seconds": 60
    },
    {
      "segment_id": "seg_002_main",
      "segment_type": "main_content",
      "speaker_style": "narrator_informative",
      "text_content": "Mars, the fourth planet from the sun, has captivated human imagination for centuries...",
      "tts_instructions": {
        "voice_id": "AetherVoice-Nova",
        "prosody": {"rate": "medium", "pitch": "medium"},
        "emphasis": []
      },
      "estimated_segment_duration_seconds": 780
    },
    {
      "segment_id": "seg_003_outro",
      "segment_type": "outro",
      "speaker_style": "narrator_reflective",
      "text_content": "Thank you for joining us on Aethercast. Until next time, keep looking up!",
      "tts_instructions": {
        "voice_id": "AetherVoice-Nova",
        "prosody": {"rate": "medium", "pitch": "medium"},
        "emphasis": ["keep looking up"]
      },
      "estimated_segment_duration_seconds": 60
    }
  ],
  "llm_prompt_initial": "Create a 15-minute podcast script about Mars exploration, including an intro, main content, and outro.",
  "llm_config": {
    "model_name": "AetherLLM-PodcastWeaver-v1",
    "temperature": 0.65
  },
  "created_at": "2023-10-26T12:00:00Z",
  "updated_at": "2023-10-26T12:15:00Z",
  "status": "script_complete"
}
```
